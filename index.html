<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #4a90e2;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
        }

        .container {
            text-align: center;
            padding: 20px;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .photo-container {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 30px;
            border: 4px solid white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            background-color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #e3e3e3, #f0f0f0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 14px;
            text-align: center;
        }

        .photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Weather Widget Styles */
        .weather-widget {
            max-width: 300px;
            margin: 20px auto;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            border-radius: 15px;
            padding: 20px;
            color: white;
            font-family: 'Arial', sans-serif;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .weather-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .weather-header h3 {
            margin: 0 0 5px 0;
            font-size: 18px;
            font-weight: 600;
        }

        .location {
            font-size: 14px;
            opacity: 0.9;
        }

        .weather-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .temperature-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .temperature {
            font-size: 48px;
            font-weight: bold;
            line-height: 1;
        }

        .weather-icon {
            font-size: 36px;
        }

        .weather-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .label {
            opacity: 0.9;
        }

        .value {
            font-weight: 600;
        }

        .weather-error {
            text-align: center;
            color: #ff6b6b;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            font-size: 14px;
        }

        /* Responsive Design for Weather Widget */
        @media (max-width: 480px) {
            .weather-widget {
                margin: 20px 10px;
                max-width: none;
            }
            
            .temperature {
                font-size: 36px;
            }
            
            .weather-icon {
                font-size: 28px;
            }
        }

        .contact-button {
            background-color: white;
            color: #4a90e2;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .contact-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255, 0, 150, 0.1),
                rgba(0, 204, 255, 0.1),
                rgba(128, 255, 0, 0.1),
                rgba(255, 255, 0, 0.1),
                rgba(255, 128, 0, 0.1),
                rgba(255, 0, 255, 0.1),
                transparent
            );
            transform: rotate(0deg);
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: rainbow-spin 3s linear infinite;
            animation-play-state: paused;
        }

        @keyframes rainbow-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .contact-button:hover {
            background-color: #f8f8f8;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .contact-button:hover::before {
            opacity: 1;
            animation-play-state: running;
        }

        .contact-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hello World!</h1>
        
        <div class="photo-container">
            <img src="profile-square.jpg" alt="Profile Photo" class="photo">
        </div>
        
        <!-- Weather Widget Container -->
        <div class="weather-widget" id="weather-widget">
            <div class="weather-header">
                <h3>Current Weather</h3>
                <div class="location" id="location">Loading location...</div>
            </div>
            
            <div class="weather-content">
                <div class="temperature-section">
                    <div class="temperature" id="temperature">--¬∞</div>
                    <div class="weather-icon" id="weather-icon">‚òÄÔ∏è</div>
                </div>
                
                <div class="weather-details">
                    <div class="detail-item">
                        <span class="label">Condition:</span>
                        <span class="value" id="condition">--</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Wind:</span>
                        <span class="value" id="wind">-- mph</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Updated:</span>
                        <span class="value" id="updated">--</span>
                    </div>
                </div>
            </div>
            
            <div class="weather-error" id="weather-error" style="display: none;">
                Unable to load weather data. Please try again later.
            </div>
        </div>
        
        <button class="contact-button" onclick="alert('Contact functionality coming soon!')">
            Contact Me
        </button>
    </div>

<script>
// Weather code mapping for Open-Meteo
const weatherCodes = {
    0: { description: 'Clear sky', icon: '‚òÄÔ∏è' },
    1: { description: 'Mainly clear', icon: 'üå§Ô∏è' },
    2: { description: 'Partly cloudy', icon: '‚õÖ' },
    3: { description: 'Overcast', icon: '‚òÅÔ∏è' },
    45: { description: 'Fog', icon: 'üå´Ô∏è' },
    48: { description: 'Depositing rime fog', icon: 'üå´Ô∏è' },
    51: { description: 'Light drizzle', icon: 'üå¶Ô∏è' },
    53: { description: 'Moderate drizzle', icon: 'üå¶Ô∏è' },
    55: { description: 'Dense drizzle', icon: 'üåßÔ∏è' },
    61: { description: 'Slight rain', icon: 'üåßÔ∏è' },
    63: { description: 'Moderate rain', icon: 'üåßÔ∏è' },
    65: { description: 'Heavy rain', icon: 'üåßÔ∏è' },
    71: { description: 'Slight snow', icon: 'üå®Ô∏è' },
    73: { description: 'Moderate snow', icon: '‚ùÑÔ∏è' },
    75: { description: 'Heavy snow', icon: '‚ùÑÔ∏è' },
    95: { description: 'Thunderstorm', icon: '‚õàÔ∏è' }
};

// Default weather info for fallback
const defaultWeather = {
    description: 'Unknown',
    icon: 'üå°Ô∏è'
};

// Get user's location
function getUserLocation() {
    return new Promise((resolve, reject) => {
        if (!navigator.geolocation) {
            reject('Geolocation not supported');
            return;
        }
        
        navigator.geolocation.getCurrentPosition(
            (position) => {
                resolve({
                    latitude: position.coords.latitude,
                    longitude: position.coords.longitude
                });
            },
            (error) => {
                console.log('Location access denied, using default location');
                // Fallback to New York coordinates
                resolve({
                    latitude: 40.7128,
                    longitude: -74.0060
                });
            }
        );
    });
}

// Reverse geocoding to get city name (simplified)
async function getCityName(lat, lon) {
    try {
        // Using a simple reverse geocoding service
        const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`);
        const data = await response.json();
        return data.city || data.locality || 'Unknown Location';
    } catch (error) {
        console.error('Error getting city name:', error);
        return 'Unknown Location';
    }
}

// Fetch weather data from Open-Meteo
async function fetchWeatherData(latitude, longitude) {
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&hourly=relativehumidity_2m&timezone=auto`;
    
    try {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error fetching weather data:', error);
        throw error;
    }
}

// Update the weather widget with data
function updateWeatherWidget(weatherData, cityName) {
    const current = weatherData.current_weather;
    const weatherInfo = weatherCodes[current.weathercode] || defaultWeather;
    
    // Update DOM elements
    document.getElementById('location').textContent = cityName;
    document.getElementById('temperature').textContent = `${Math.round(current.temperature)}¬∞C`;
    document.getElementById('weather-icon').textContent = weatherInfo.icon;
    document.getElementById('condition').textContent = weatherInfo.description;
    document.getElementById('wind').textContent = `${Math.round(current.windspeed)} km/h`;
    
    // Format update time
    const updateTime = new Date(current.time).toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit'
    });
    document.getElementById('updated').textContent = updateTime;
}

// Show error state
function showError() {
    document.querySelector('.weather-content').style.display = 'none';
    document.getElementById('weather-error').style.display = 'block';
}

// Hide error state
function hideError() {
    document.querySelector('.weather-content').style.display = 'block';
    document.getElementById('weather-error').style.display = 'none';
}

// Main function to initialize weather widget
async function initWeatherWidget() {
    try {
        hideError();
        
        // Get user location
        const location = await getUserLocation();
        console.log('Location obtained:', location);
        
        // Get city name
        const cityName = await getCityName(location.latitude, location.longitude);
        console.log('City name:', cityName);
        
        // Fetch weather data
        const weatherData = await fetchWeatherData(location.latitude, location.longitude);
        console.log('Weather data:', weatherData);
        
        // Update widget
        updateWeatherWidget(weatherData, cityName);
        
    } catch (error) {
        console.error('Error initializing weather widget:', error);
        showError();
    }
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', initWeatherWidget);

// Optional: Refresh weather data every 10 minutes
setInterval(initWeatherWidget, 10 * 60 * 1000);
</script>
</body>
</html>
